---
lang: ru
layout: article_with_sidebar
updated_at: '2017-10-27 17:16 +0400'
identifier: ref_fVgOaXam
title: Настройка зон доставки
order: 10
published: true
---
## Что такое зона доставки?

В X-Cart 5 зоны позволяют рассчитывать налог и стоимость доставки для разных географического местонахождений покупателей.  Зона - это набор стран, штатов/областей и индексов, которые составляют регион. К региону применяются свои индивидуальные правила доставки.

Несколько примеров действия зон доставки:

*   Налог с продаж в размере 7% для Нью Джерси в США: Создайте зону доставки, включающую только этот штат, Нью Джерси. Затем, настройте соответствующую ставку налога для данной зоны доставки. 
*   Бесплатная доставка в пределах Великобритании, фиксированная стоимость доставки £7.50 во все другие страны Европы и фиксированная стоимость доставки £13.95 во все страны мира: Создайте три зоны доставки - зону 1, включающую только Соединенное Королевство; зону 2, включающую все страны Европы, в которые вы будете доставлять; зону 3, включающую все остальные страны, куда вы будете доставлять свои товары. Теперь настройте налог для каждой из этих зон.
*   Бесплатная доставка на адреса в непосредственной близости от магазина: Создайте зону доставки по индексу своего магазина (или нескольким индексам прилегающих территорий) и настройте бесплатную доставку для этой зоны адресов.

Количество зон доставки зависит от настроек налогов и доставки. Зон доставки должно быть столько, сколько необходимо для действия настроенных правил расчета налогов и стоимости доставки. Зоны для налогов и зоны для доставки могут не совпадать.

## Как X-Cart определяет адресную зону покупателя

Чтобы определить, какой налог и какую стоимость доставки применить к заказу, X-Cart проверяет, к какой зоне доставки относится адрес покупателя. Для этого X-Cart последовательно проверяет каждое поле адреса - страну, область, индекс - и сравнивает данные с этими же полями зон доставки. Если X-Cart находит страну покупателя в составе стран какой-то зоны, X-Сart переходит к проверке области. Если в найденной зоне не указаны области (т.е. в нее входят все области страны), значит, адрес покупателя входит в эту зону доставки. Если для найденной зоны указаны области, и области покупателя нет в этом списке, значит, адрес покупателя не входит в данную зону доставки. В этом случае, X-Cart переходит к проверке другой зоны доставки, в которую мог бы входить адрес покупателя. Если для зоны указаны области, и область покупателя есть в этом списке, X-Cart переходит к проверке индекса. Аналогично, если для зоны не указаны индексы, адрес покупателя входит в данную зону доставки, если указаны - X-Cart сравнивает индекс покупателя с индексами зоны.   

Если X-Cart находит адрес покупателя в нескольких зонах, он должен выбрать наиболее подходящую. Чем больше параметров зоны совпадает с адресом покупателя (страна, область, индекс), тем более подходящей считается зона доставки.  Чтобы определить налог и стоимость доставки для заказа, когда адрес покупателя входит в несколько зон доставки, прежде всего, X-Cart проверяет расценки наиболее подходящей зоны. Если для этой зоны не заданы ставка налоги и стоимость доставки, X-Cart переходит к проверке расценок следующей подходящей зоны. Последняя зона, до которой может дойти проверка - Все адреса. Это стандартная зона доставки, она не может быть более или менее подходящей и используется, когда ни одна другая зона доставки не подходит. 

## Создание зон доставки

Например, нам нужно создать зону доставки Атлантическая Канада с четырьмя провинциями (Нью-Брансуик, Ньюфаундленд и Лабрадор, Новая Шотландия, Остров Принца Эдуарда) 


1.  В панели управления магазина откройте страницу **Настройки магазина / Страны, области и зоны**:
    ![1.jpg]({{site.baseurl}}/attachments/ref_fVgOaXam/1.jpg)
2.  Перейдите на вкладку **Зоны**:
    ![2.jpg]({{site.baseurl}}/attachments/ref_fVgOaXam/2.jpg)
    Откроется раздел **Зоны**, в котором вы можете создавать и изменять зоны доставки:
    ![3.jpg]({{site.baseurl}}/attachments/ref_fVgOaXam/3.jpg)

3.  Нажмите кнопку **Создать зону**:
    ![4.jpg]({{site.baseurl}}/attachments/ref_fVgOaXam/4.jpg)
    В списке зон появится пустое поле, в котором нужно указать название новой зоны доставки:
    ![5.jpg]({{site.baseurl}}/attachments/ref_fVgOaXam/5.jpg)
4.  В качестве примера, мы используем название Атлантическая Канада. Нажмите Сохранить внизу страницы:
    ![6.jpg]({{site.baseurl}}/attachments/ref_fVgOaXam/6.jpg)
    Новая зона появится в списке адресных зон:
    ![7.jpg]({{site.baseurl}}/attachments/ref_fVgOaXam/7.jpg)

5.  Наведите курсор на название новой зоны. Поле редактируется, прямо здесь можно поменять название зоны. При наведении курсора, справа появляется кнопка **Изменить**, с помощью которой можно редактировать настройки зоны доставки:
    ![8.jpg]({{site.baseurl}}/attachments/ref_fVgOaXam/8.jpg)
    Нажмите **Изменить**, откроется страница с информацией о зоне доставки:
    ![9.jpg]({{site.baseurl}}/attachments/ref_fVgOaXam/9.jpg)

6.  На этой странице можно настроить зону доставки. 

    *   В поле **Название зоны** можно изменить название. 

    *   В полях **Страны**, **Области**, **Маски городов** и **Маски индексов** укажите регионы, которые входят в редактируемую зону доставки. В полях **Страны** и **Области** выбранные значения, относящиеся к зоне, нужно переместить слева направо с помощью кнопки со стрелкой. 

        ![10.jpg]({{site.baseurl}}/attachments/ref_fVgOaXam/10.jpg)
       
        В поле **Индекс** укажите почтовые индексы или маски индексов, входящих в зону доставки. 
 
        Маски почтовых индексов используются для записи ряд индексов. Чтобы указать диапазон, замените какое-нибудь число значком %. Например, 1001% означает индексы от 10010 до 10019, 102% - от 10200 до 10299.

        Каждая новая маска индексов должна располагаться на новой строке:
        
        1001%
        
        102%
        
        
        Для настройки зоны Атлантическая Канада нужно выбрать следующие территориальные единицы:

        *   в поле **Страна** - Канада;

        *   в поле **Область** - Канада: Нью-Брансуик,  Канада: Ньюфаундленд и Лабрадор, Канада: Новая Шотландия, и Канада: Остров Принца Эдуарда;

        *   поле **Маска индексов** нужно оставить пустым.

7.  Когда все настройки установлены, нажмите **Сохранить**.
    ![11.jpg]({{site.baseurl}}/attachments/ref_fVgOaXam/11.jpg)
    Информация о зоне сохранена.

## Стандартная зона **Все адреса**

Даже если вы не создали новые зоны доставки, в магазине X-Cart всегда есть одна настроенная стандартная зона - Все адреса. Эта зона доставки создается во время установки магазина, и ее нельзя удалить.Наличие зоны доставки Все адреса гарантирует, что адресная зона покупателя будет определена, даже если его адрес не входит ни в одну из настроенных зон доставки. 

Если открыть зону Все адреса для редактирования, она кажется пустой, т.к. для нее не выбраны никакие страны и т.д. Но на самом деле, это не так, по умолчанию, эта зона настроена так, что в нее входят все адреса со всего мира. Вы можете изменить состав зоны в зависимости от того, куда вы собираетесь отправлять свои товары. Например, если установить страну Германия в настройках зоны Все адреса, то данная зона доставки будет включать только адреса в Германии.
